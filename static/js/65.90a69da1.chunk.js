(()=>{"use strict";var e={1065:(e,t,s)=>{var o=s(1555),r=s(2652);o.Jj(new class{constructor(){this.seenOn={},this.subs={},this.relays=[],this.pool=new r.dR,this.poolCreated=Date.now(),this.getPool=()=>(Date.now()-this.poolCreated>12e4&&(this.pool.close(this.relays),this.pool=new r.dR,this.poolCreated=Date.now()),this.pool)}setup(e){this.relays=e}fetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise((s=>{const o=this.getPool(),r=o.sub(this.relays,e),n=[],i=()=>{r.unsub(),s(n)};let a=t>0?setTimeout(i,t):null;r.on("event",(e=>{n.push(e),this.seenOn[e.id]=o.seenOn(e.id),t>0&&(clearTimeout(a),a=setTimeout(i,t))})),0===t&&r.on("eose",(()=>{r.unsub(),s(n)}))}))}sub(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const o=Math.random().toString().slice(2),r=this.getPool(),n=r.sub(this.relays,e,{id:o});return n.on("event",(e=>{this.seenOn[e.id]=r.seenOn(e.id),t(e)})),n.on("eose",(()=>{s&&this.unsub(o)})),this.subs[o]=n,o}unsub(e){this.subs[e]&&(this.subs[e].unsub(),delete this.subs[e])}async where(e){let t=0;for(;!this.seenOn[e]&&(await this.fetch([{ids:[e]}]),t++,3!==t););if(!this.seenOn[e])throw new Error("Could not find root event");return this.findHealthyRelay(this.seenOn[e])}async findHealthyRelay(e){const t=this.getPool();for(const o of e)try{return await t.ensureRelay(o),o}catch(s){}throw new Error("Couldn't find a working relay")}})}},t={};function s(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,s),n.exports}s.m=e,s.x=()=>{var e=s.O(void 0,[16],(()=>s(1065)));return e=s.O(e)},(()=>{var e=[];s.O=(t,o,r,n)=>{if(!o){var i=1/0;for(u=0;u<e.length;u++){for(var[o,r,n]=e[u],a=!0,l=0;l<o.length;l++)(!1&n||i>=n)&&Object.keys(s.O).every((e=>s.O[e](o[l])))?o.splice(l--,1):(a=!1,n<i&&(i=n));if(a){e.splice(u--,1);var h=r();void 0!==h&&(t=h)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[o,r,n]}})(),s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,o)=>(s.f[o](e,t),t)),[])),s.u=e=>"static/js/"+e+".c390f7be.chunk.js",s.miniCssF=e=>{},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="/",(()=>{var e={65:1};s.f.i=(t,o)=>{e[t]||importScripts(s.p+s.u(t))};var t=globalThis.webpackChunknostr_chat=globalThis.webpackChunknostr_chat||[],o=t.push.bind(t);t.push=t=>{var[r,n,i]=t;for(var a in n)s.o(n,a)&&(s.m[a]=n[a]);for(i&&i(s);r.length;)e[r.pop()]=1;o(t)}})(),(()=>{var e=s.x;s.x=()=>s.e(16).then(e)})();s.x()})();
//# sourceMappingURL=65.90a69da1.chunk.js.map